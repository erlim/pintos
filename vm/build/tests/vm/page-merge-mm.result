FAIL
Kernel panic in run: PANIC at ../../threads/synch.c:197 in lock_acquire(): assertion `!lock_held_by_current_thread (lock)' failed.
Call stack: 0xc002860c 0xc0022db8 0xc002577d 0xc00247f4 0xc0024fa6 0xc00247f4 0xc002d562 0xc002ccb8 0xc002e364 0xc002a7d4 0xc0020f62 0xc002be5b 0xc002bb64 0xc0021ab6 0xc0021bed 0xc002503b 0xc0025881 0xc002477e 0xc0024b34 0xc002477e 0xc002d6f9 0xc002cd14 0xc002a53b 0xc002a696 0xc002bb6c 0xc0021ab6 0xc0021bed 0x8048306 0x804813a 0x80489ba
Translation of call stack:
In kernel.o:
0xc002860c: debug_panic (.../../lib/kernel/debug.c:38)
0xc0022db8: lock_acquire (...../../threads/synch.c:199)
0xc002577d: ide_write (...d/../../devices/ide.c:370)
0xc00247f4: block_write (...../../devices/block.c:139)
0xc0024fa6: partition_write (..../devices/partition.c:318)
0xc00247f4: block_write (...../../devices/block.c:139)
0xc002d562: inode_write_at (...../../filesys/inode.c:287)
0xc002ccb8: file_write_at (.../../../filesys/file.c:114)
0xc002e364: do_munmap (...build/../../vm/mmap.c:137)
0xc002a7d4: process_exit (...../userprog/process.c:223)
0xc0020f62: thread_exit (..../../threads/thread.c:316)
0xc002be5b: sys_read (...../userprog/syscall.c:215)
0xc002bb64: page_fault (.../userprog/exception.c:162)
0xc0021ab6: intr_handler (..../threads/interrupt.c:375)
0xc0021bed: intr_entry (threads/intr-stubs.S:38)
0xc002503b: insw (...ild/../../threads/io.h:42)
0xc0025881: ide_read (...d/../../devices/ide.c:356)
0xc002477e: block_read (...../../devices/block.c:125)
0xc0024b34: partition_read (..../devices/partition.c:308)
0xc002477e: block_read (...../../devices/block.c:125)
0xc002d6f9: inode_read_at (...../../filesys/inode.c:226)
0xc002cd14: file_read_at (...d/../../filesys/file.c:85)
0xc002a53b: load_file (...../userprog/process.c:637)
0xc002a696: handle_mm_fault (...../userprog/process.c:717)
0xc002bb6c: page_fault (.../userprog/exception.c:174)
0xc0021ab6: intr_handler (..../threads/interrupt.c:375)
0xc0021bed: intr_entry (threads/intr-stubs.S:38)
In tests/vm/page-merge-mm:
0x08048306: sort_chunks (...ts/vm/parallel-merge.c:76)
0x0804813a: sort_chunks (...ts/vm/parallel-merge.c:40)
0x080489ba: check_file_handle (...ild/../../tests/lib.c:129)
Translations of user virtual addresses above are based on a guess at
the binary to use.  If this guess is incorrect, then those
translations will be misleading.
