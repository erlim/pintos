FAIL
Kernel panic in run: PANIC at ../../threads/synch.c:197 in lock_acquire(): assertion `!lock_held_by_current_thread (lock)' failed.
Call stack: 0xc002861c 0xc0022dc8 0xc002578d 0xc0024804 0xc0024fb6 0xc0024804 0xc002d6c2 0xc002ce18 0xc002e4bd 0xc002a8d0 0xc0020f72 0xc002bfbb 0xc002bcd0 0xc0021ac6 0xc0021bfd 0xc002504b 0xc0025891 0xc002478e 0xc0024b44 0xc002478e 0xc002d859 0xc002ce74 0xc002a54b 0xc002a6a5 0xc002bc8c 0xc0021ac6 0xc0021bfd 0x8048299 0x804813a 0x80489ba
Translation of call stack:
In kernel.o:
0xc002861c: debug_panic (.../../lib/kernel/debug.c:38)
0xc0022dc8: lock_acquire (...../../threads/synch.c:199)
0xc002578d: ide_write (...d/../../devices/ide.c:370)
0xc0024804: block_write (...../../devices/block.c:139)
0xc0024fb6: partition_write (..../devices/partition.c:318)
0xc0024804: block_write (...../../devices/block.c:139)
0xc002d6c2: inode_write_at (...../../filesys/inode.c:287)
0xc002ce18: file_write_at (.../../../filesys/file.c:114)
0xc002e4bd: do_munmap (...build/../../vm/mmap.c:138)
0xc002a8d0: process_exit (...../userprog/process.c:225)
0xc0020f72: thread_exit (..../../threads/thread.c:317)
0xc002bfbb: sys_read (...../userprog/syscall.c:216)
0xc002bcd0: page_fault (.../userprog/exception.c:191)
0xc0021ac6: intr_handler (..../threads/interrupt.c:375)
0xc0021bfd: intr_entry (threads/intr-stubs.S:38)
0xc002504b: insw (...ild/../../threads/io.h:42)
0xc0025891: ide_read (...d/../../devices/ide.c:356)
0xc002478e: block_read (...../../devices/block.c:125)
0xc0024b44: partition_read (..../devices/partition.c:308)
0xc002478e: block_read (...../../devices/block.c:125)
0xc002d859: inode_read_at (...../../filesys/inode.c:226)
0xc002ce74: file_read_at (...d/../../filesys/file.c:85)
0xc002a54b: load_file (...../userprog/process.c:657)
0xc002a6a5: handle_mm_fault (...../userprog/process.c:778)
0xc002bc8c: page_fault (.../userprog/exception.c:159)
0xc0021ac6: intr_handler (..../threads/interrupt.c:375)
0xc0021bfd: intr_entry (threads/intr-stubs.S:38)
In tests/vm/page-merge-mm:
0x08048299: sort_chunks (...ts/vm/parallel-merge.c:75)
0x0804813a: sort_chunks (...ts/vm/parallel-merge.c:40)
0x080489ba: check_file_handle (...ild/../../tests/lib.c:129)
Translations of user virtual addresses above are based on a guess at
the binary to use.  If this guess is incorrect, then those
translations will be misleading.
